import pandas as pd
import ast

# Load the CSV file
csv_file_path = "recipes.csv"  # Replace with your CSV file path
df = pd.read_csv(csv_file_path)

# Convert string representations of lists to actual lists
list_columns = ["tags", "nutrition", "steps", "ingredients"]
for col in list_columns:
    df[col] = df[col].apply(lambda x: ast.literal_eval(x) if isinstance(x, str) else x)

# Convert DataFrame to JSON
json_file_path = "recipes.json"  # Define your output JSON file path
df.to_json(json_file_path, orient="records", indent=2)

print(f"CSV file has been converted to JSON and saved as {json_file_path}")
